
Статическая и динамическая линковка - это два различных метода объединения объектных файлов в единый исполняемый файл.

---
## [Static linking](https://ayandas.me/blogs/2019-01-03-linking-in-c++.html#static-linking)

Во время статической линковки linker объединяет все необходимые объектные файлы и статические библиотеки в единый исполняемый файл.


***Особенности статической линковки:***

- Включение всех зависимостей
	
	- все необходимые функции и данные из библиотек копируются непосредственно в будущий исполняемый файл

- независимость от внешних библиотек

	- после статической линковки все необходимые компоненты уже включены в исполняемый файл и он становится готовым к выполнению


пример статической линковки:

``` c++
gcc -o my_program main.o utils.o -static -L/path/to/libs -lmylib
```


---
## [Dynamic linking](https://ayandas.me/blogs/2019-01-03-linking-in-c++.html#dynamic-linking)

Динамическая линковка происходит в процессе `run-time`

- Во время динамической линковки исполняемый файл ссылается на [внешние разделяемые библиотеки](https://en.wikipedia.org/wiki/Shared_library) (`shared libraries`)

	- `shared libraries` загружаются в память процесса с помощью `Dynamic linker`.

	- `shared libraries` создаются  из `shared objects`, а именно файлов с расширением `.so`


пример динамической линковки:

``` c++
 g++ -shared -o libexample.so example.o
```

- флаг `-shared` в `GCC` используется для указания компилятору, что необходимо создать `shared library`.

---
### [Dynamic linker](https://en.wikipedia.org/wiki/Dynamic_linker)

В большинстве Unix-подобных систем `Dynamic linker` является отдельным исполняемым файлом.

Он загружается и запускается ядром операционной системы перед запуском основного исполняемого файла.

---
## Summary

| Характеристика                   | Статическая линковка              | Динамическая линковка                    |
| -------------------------------- | --------------------------------- | ---------------------------------------- |
| Время линковки                   | Во время компиляции               | run-time                                 |
| Размер исполняемого файла        | Больше (включает все зависимости) | Меньше (ссылается на внешние библиотеки) |
| Зависимость от внешних библиотек | Нет                               | Да                                       |
| Разрешение символов              | Одноразовое во время линковки     | Динамическое во время выполнения         |


---

## Advanced 

- [Library order in static linking](https://eli.thegreenplace.net/2013/07/09/library-order-in-static-linking)
  
- [What happens after the compiler in C++](https://www.youtube.com/watch?v=h4s891KVN80)
